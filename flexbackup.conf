# -*-Mode: perl-*-
# ----------------------------------------------------------------------
# Flexbackup configuration file
#
# $Id$
# $Name$
#
# ----------------------------------------------------------------------
# General configuration section

# Archive type?  afio, dump, tar, cpio
$type = 'afio';

# List the directories you wish to dump when 'all' is given
# Just a simple space-separated list
# Remote filesystems should denoted as 'host:dir'
#
# Example:
#   $filesystems[0] = '/ /usr /home machine1:/usr machine2:/home';
#
# The array index is a tape number. If you want an 'all' level 0 backup to
# span multiple tapes, add more lines with different array indices. You will
# be prompted for tape change in between.
#
$filesystems[0] = '/home';

# Compression
$compress    = 'gzip';  # one of false/gzip/bzip2/compress/hardware
$compr_level = '4';     # compression level (1-9) (for gzip/bzip2)

# Buffering
$buffer      = 'buffer'; # to use "buffer" program to help streaming
$buffer_megs = '3';      # buffer memory size (in megabytes)
$pad_blocks  = 'true';   # true to pad blocks to blocksize (devices only, not used when
			 # archiving to files)

# Device to backup to - non-rewinding version please!
#
# Examples:
#    Linux SCSI: /dev/nst0       Linux IDE: /dev/nht0
#    Linux ftape: /dev/nqft0     FreeBSD SCSI: /dev/nrsa0
#
# If a directory, archive to files in that directory rather than a device
#
$device	 = '/dev/nht0';

# Block size (k) to use
$blksize = '10';

# True to use "variable" block size for the tape device (mt setblk 0)
# If false, will use the $blksize parameter above. All non-mt commands
# will still use $blksize regardless of this value
$mt_var_blksize = 'true';

# Other global flags
$remoteshell = 'rsh';   # command for remote shell (rsh/ssh/ssh2)
$verbose     = 'true';  # echo each file? (for afio/tar/cpio)
$sparse      = 'true';  # handle sparse files (for afio/tar/cpio)
$indexes     = 'true';  # false to turn off all table-of-contents support

# if backing up to files, use static filenames - no date stamp
# (same level, same fs will overwrite old backups)
$staticfiles = 'false';

# Span across filesytems? ("dump" will ignore this option)
# Set to "false" (don't) , "local" (all but nfs), or "all" (everything)
$traverse_fs = 'false';

# Exclude files that match these *regular expressions* (not shell wildcards)
# from the backups (no affect on 'dump' archives). You can list more than one,
# just keep incrementing the index in the brackets for each.  Also, strip off
# leading directories (the filesystem specs above or the "-fs" flag).
# Matches paths, not filenames, so put .* on the front/back as needed.
# Comment these out to exclude nothing.
$exclude_expr[0] = '.*/[Cc]ache/.*';
$exclude_expr[1] = '.*~$';

# If true (default), level zero "all" assumes you want to erase and use
# a new tape. If false, level zero "all" appends like all other backups
$erase_tape_all_level_zero = 'true';

# Set this to "true" to make erase operations just rewind - not really
# call "mt erase".  For some tape drives, erase takes hours rather
# than seconds
$erase_rewind_only = 'false';

# ----------------------------------------------------------------------
# Log/stamp files, path for temporary files

$logdir	    = "/var/log/flexbackup";   # directory for log files
$stampdir   = "/var/lib/flexbackup";   # directory for backup timestamps
$index      = "$stampdir/index";       # DB filename for tape indexes
$comp_log   =  "gzip";                 # compress log? false/gzip/bzip2/compress
$staticlogs = 'false';                 # static log filenames w/ no date stamp
$prefix	    = "";		       # log files will start with this prefix
$sprefix    = "";	               # stamp files will start with this prefix
$tmpdir     = "/tmp";                  # used for temporary refdate files, etc
$keyfile    = "00-index-key";          # filename for keyfile if archiving to dir

# ----------------------------------------------------------------------
# Parameters for 'afio' only

# File extensions that should not be compressed (seperate with spaces)
$afio_nocompress_types = 'mp3 MP3 Z z gz gif zip ZIP lha jpeg jpg JPG taz tgz deb rpm bz2';

# True to show block numbers
$afio_echo_block = 'false';

# Files less than this size (kilobytes) won't be compressed
$afio_compress_threshold = '3';

# Maximum amount of memory (megabytes) to use for temporary storage of
# compression results.  If a compressed file is bigger than this, compression
# will have to run twice on the file (see manpage).
$afio_compress_cache_size = '2';

# ----------------------------------------------------------------------
# Parameters for 'tar' only

# True to show record numbers
$tar_echo_record_num = 'false';

# True to preserve file access times
$tar_atime_preserve = 'true';

# ----------------------------------------------------------------------
# Parameters for 'cpio' only

# Format of cpio archive
$cpio_format = 'newc';

# ----------------------------------------------------------------------
# Parameters for 'dump' only

# Estimated tape size (in kilobytes). This number doesn't really do much
# but help 'dump' get size estimates if set to zero uses 'dump -a'
$dump_length = '0';

# True to use /etc/dumpdates (could mess things up if you dump subdirectories
# of mount points).  False to use flexbackup's timestamps.
$dump_use_dumpdates = 'false';

# ----------------------------------------------------------------------
# Paths to commands. Default will look for them in $PATH. Set if
# you want to set them explicitly, like this:
#
# Example: FreeBSD users will want to use gtar (GNU tar)
#   $path{'tar'} = '/usr/local/bin/gtar';



######################################################################
# Leave '1;' on the the next line - for perl 'require'
1;
