$Id$
$Name$

New Features:
 - minimal Makefile that lets you set config path, bin path, etc. for install

Bug fixes/cleanup:
 - make better afio control file handling for volume labels
 - forgot to remove tar_verbose and cpio_verbose from conf file
 - dates back to string format (easier to read), use numeric only on BSD
 - debug shows real mt command
 - sleep at end of backup not done if file or debug
 - if -noerase, move to eod before starting

----------------------------------------------------------------------
Version 0.9.5 (19990927)

New features:
 - buffering for all backup types
    now requires the "buffer" utility, everything piped through it
    if remote backup, buffers on both sides
 - every backup type now has an embedded "title" (level,date,host,etc)
     dump has had this info. by default
     for afio we make a tiny control script
     for tar we use -V for a volume label
     for cpio we touch a filename wih the info before backing up
 - config file regular expression for excluding files from backup
    doesn't work for dump, of course
 - config option for afio file size compression threshold
 - config option for afio nocompress file extension list
 - compression for all backup types
 - if reading from a file,  auto-set compression & archive type
     whee we can also list & extract rpm files :)

Bug fixes/cleanup:
 - nuke trailing slashes on given dirs
 - typo! mt defblksize, not mt defsetblk. also, that whole reoutine
     was just broken. fixed.
 - tar was archiving things twice. "find . | tar -c -T -" gives double
      result. revert back to non-find mode for tar, works fine
 - remote tar didn't quite work (needed full path for ssh/rsh)
 - remote broken if using filenames (and they were long)
 - error if remote host and this host are the same
 - error if device is dir and its relative
 - stderr output from new pipeline commands wasn't in  log file
 - fix dirs going on top of each other when  mult. dumps. + files
 - log file removal at end of job; undef logfile after compressing
 - compress, compr_level, verbose, buffer are generic options
 - commands are an array; command build cleanup; mt takes multiple commands


---------------------------------------------------------------
Version 0.9.4 (19990924)

New features:
 - bzip2 option for afio and tar archives, as well as log files
 - configurable compression level for afio
 - multiple tapes for an "all" level 0.  This just lets you split up
     backups onto different tapes, not end-of-media type of
     multivolume problems (that's on the todo list)
 - support for remote dump over ssh - use dd over an ssh pipe
 - support ssh for cpio remote backups - use dd over an ssh pipe
 - add -reten switch to retension before backup or any other operation
 - print "date of this level" sort of like dump does

Bug fixes/cleanup:
 - test if mt setblksize or mt defblksize is the right command to use
 - dump -a (autosize) works now. Found my problem was a known bug.
    >>> NOTE for Linux w/dump, you MUST install dump-0.4b4-10
       (redhat lorax) or newer, or equivalent patches if you want
       dump -a to work
 - afio doublebuffer only if local backup
 - dump length bug for "-fs all"
 - get last timestamp was off-by-one
 - output of archive commands didn't go to log file
 - with label "host:path-dir"; didn't work w/ remote + files
     labels are now "host-path-dir"
 - sanity checks in the setup, flag variables
 - check for programs in your path

---------------------------------------------------------------
Version 0.9.3 (for testing only)

New features:
 - can now archive to files instead of devices
     just set $device to a directory for backup
     compare/extract/list/restore can now take a filename argument
 - add -n option that doesn't run mt or the actual backup
 - timestamp changes:
     use "touch -t" not "touch -d" so FreeBSD works
     all dates now in YYYYMMDDhhmm.SS format
     use timestamps of the epoch for level 0 (simplifies code)
 - add "-d var=val" for overriding config values
 - tar mode uses "find" just like afio & cpio
 - afio doublebuffering option

Bug fixes/cleanup:
 - FreeBSD: if $dump_length set to 0 use dump -a
 - FreeBSD: fix for mt setblk
 - error if level > 0 and no level 0 stamp exists
 - fix label string for remote paths

---------------------------------------------------------------
Version 0.9.2 (19990920)

 - initial release to the public
 - gzip log files option
 - fix afio buffer to be in units of k in cfg file

Version 0.9.1 (1999019)

  - incrementals w/ afio cpio tar done (remote fs too!)
  - timestamp only after sucessful backup, but use the pre-backup time
  - noerase option

Version 0.8

  - redone with "use strict"
  - incremental for non-dump types almost done
  - automated pacakging
  - clean some duplicated code
  - rpm build, lsm file
  - previously just a local hack I had done for myself
