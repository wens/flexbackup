$Id$
$Name$

Flexbackup to-do list
Some of these might not happen, but figured I should jot them down

Cleanup/fix:
 - clean up all the $main:: vars, split into types
 - make path overrides also search $PATH (say if we just changed the name
     tar == gtar put still want to do normal path-seach)
 - bash PIPESTATUS trick fails if remote filesystem and shell there!=bash
     and shell local==bash. bah.
 - check buffer avail mem thing from John
 - fix the stamp find loop (See FIXME)
 - revisit -cnewer problem.  Make sure it works with touch -t/-d of
   timestamp refs (ctime isn't set backward like the mtime)

Misc:
 - make a manual page (or other enchanced doc)! too many options now :)
   someone made us a good start or two:
     http://myezserver.com/downloads/mitel/howto/flexbackup-howto.html
     http://www.cyber-euskadi.com/howtos/contrib/flexbackup-restore-from-disk-howto.html

 - someone needs to put a bunch of stuff in a faq
 - Check lsm template/ibiblio.org stuff. automate
 - Try bfr or dbuffer (buffer seems unmaintained; no O_LARGEFILE)
 - Try against torture-test list:
     http://ftp.berlios.de/pub/star/testscripts/zwicky/testdump.doc.html

Features to add:
 - static filenames when using disk (same fs, same level overwrite)?
      Michael Matsumura <michael@limit.org>

 - Several suggestions of incremental/differntial type, need to sort out:

  o first verify behavior of dump using dumpdates

    A: Multiple same-number get everything more recent then last
       higher-numbered.  '9' always gets all since '[0-8]', no matter how many
       '9's you do in a row

      see also  http://docs.sun.com/db/doc/805-7228/6j6q7uf18?a=view

  o also re-check they way my timestamps work make sure its the same

    A: Oops. we had <= when we needed <. Fixed for 0.9.9.4+.

  Check these links:
      http://www.arkeia.com/archives_indexed/2000/10/msg00006.html
      http://www.sans.org/rr/backup/central.php
  
  To sum up, no changes are *needed*.
  
   we can do what people call "incremental" as long as you increase the
   backup level each day.  (Well, you can do up to 8 of them.)

   we can do what people call "differential" just by keeping the number the
   same for consecutive backups
      
   If anything, make a mode where people coming from the DOS/win world 
   can use
       'full' 'differential' 'incremental' 
   that is different from the numbered level backups. Alias 0 == full, alias
   1 == 'differential', and implement 'incremental'.
           - maybe just make imcremental + the number from last time
	   - remove the limit of 9.
        (WIP in hacked version) 
	   fix "-level incremental" and fs=all problem
           fix sorting of timestamps for level > 1 digit


 - remote tape drive (rmt) support
     Caleb Crome <caleb@crome.org>
 - non-root use (remote too)
    document sudo workaround
      Defaults:backup !authenticate
      Cmnd_Alias BACKUP = /usr/bin/afio, /usr/bin/find
      backup  ALL = NOPASSWD: BACKUP
 - make remote machine path overrides possible, that supercede others
 - check for existence of remote executables (John had something)
 - make -extract -files for afio/cpio/zip recurse dirs
      dump/tar already to this.
 - try restore -D for comparing subdirs w/ restore
 - interactive restore-like shell for types besides dump
      see notes below
 - some "level" that uses rpm, verifies all packages, and just backs
      up any file not in a package OR changed from a package. and the rpm list.
      once the above works make it work for debian packages
 - "no blocking at all" option
 - log tape sizes (putput of buffer or dd can be used?)
 - handle multi-volume backups (original idea never panned out)
 - arbitratry "groups" that act sort of like "all"
 - multiple tapes for levels that aren't 0
 - extract options to not overwrite existing files
 - cd-rom burning (or just .iso type?) for full backups?
 - put .zip back in if I can make it behave
 - .zip as compression not archive type at least?  (can't unzip stdin)
 - star? (tar but w/ acl support)
 - smbtar/smbclient?
 - pax (just wraps tar/cpio)?
 - remote extract/compare/restore
      just install s/w on client w/remote tape device. need config file
      option
 - when using files
      make lower numbered level nuke higher ones & rm index?
      do I really want erase to nuke the archive files?
 - encryption with gnupg?
 - gnome driver/configurator utility
      will be a separate program that just manipulates flexbackup

-------------------

Notes for cloning restore shell for afio/tar/cpio types)
Use perl readline module
(Maybe a seperate program or module that runs off a list fed to it)

1) do a listing
2) parse & put into data structures
3) mt bsf 1
4) then give a shell w/ all commands from regular dump
5) mark things for extraction
6) reopen archive & extract that list

Help from restore to jog my brain...

        ls [arg] - list directory
        cd arg - change directory
        pwd - print current directory
        add [arg] - add `arg' to list of files to be extracted
        delete [arg] - delete `arg' from list of files to be extracted
        extract - extract requested files
        setmodes - set modes of requested directories
        quit - immediately exit program
        what - list dump header information
        verbose - toggle verbose flag (useful with ``ls'')
        help or `?' - print this list
If no `arg' is supplied, the current directory is used


Local Variables:
mode: flyspell
end:
